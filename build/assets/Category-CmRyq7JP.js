import{bh as w,r,j as e,bi as a,L as m,aj as N,bt as k,bu as v}from"./index-Bj05vSZy.js";import{l as z}from"./lodash-TNSd0OCY.js";import{u as D}from"./useCategoryActions-CgfjJzUJ.js";function L(){const{fetchCategories:u}=D(),h=w(),[s,b]=r.useState([]),[l,n]=r.useState([]),i=async()=>{const t=await u();b(t.map(o=>({...o,key:o._id}))),n(t)};r.useEffect(()=>{i()},[]);const x=t=>{h(`/admin/categories/${t}`)},g=t=>{a.Modal.confirm({title:"Are you sure?",content:"Do you really want to delete this category?",okText:"Yes",cancelText:"No",onOk:()=>{console.log("Delete category ID:",t)}})},f=r.useMemo(()=>z.debounce(t=>{const o=t.toLowerCase();if(t==="")n(s);else{const c=s.filter(y=>{var d;return(d=y.name)==null?void 0:d.toLowerCase().includes(o)});n(c)}},300),[s]),{Search:p}=a.Input,j=r.useCallback((t,o)=>e.jsxs(a.Space,{size:"middle",wrap:!0,children:[e.jsx(a.Button,{color:"primary",variant:"outlined",className:"btn-border btn-hover",onClick:()=>x(o._id),children:"View"}),e.jsx(a.Button,{color:"danger",variant:"outlined",className:"btn-border btn-hover",onClick:()=>g(o._id),children:"Delete"})]}),[]),C=r.useMemo(()=>[{title:"Name",dataIndex:"name",key:"name",sorter:(t,o)=>(t.name??"").localeCompare(o.name??""),render:(t,{name:o,_id:c})=>e.jsx(m,{to:`/admin/categories/${c}`,children:o})},{title:"Action",key:"action",render:j}],[]);return e.jsxs(e.Fragment,{children:[e.jsx(a.Card,{className:"my-6 card-border",children:e.jsxs(a.Space,{size:"middle",wrap:!0,children:[e.jsx(m,{to:"/admin/categories/new",children:e.jsx(a.Button,{size:"large",className:"btn-border btn-hover",icon:e.jsx(N,{}),children:"New"})}),e.jsx(a.Button,{size:"large",className:"btn-border btn-hover",icon:e.jsx(k,{}),children:"Import"}),e.jsx(a.Button,{size:"large",className:"btn-border btn-hover",onClick:()=>i(),icon:e.jsx(v,{}),children:"Refresh"}),e.jsx(p,{size:"large",placeholder:"input search text",allowClear:!0,onSearch:f,style:{width:"auto"}})]})}),e.jsx(a.Card,{className:"card-border",title:"Category Management",color:"#f3f3f3",children:e.jsx(a.Table,{size:"large",tableLayout:"fixed",rowClassName:"cursor-pointer",className:"border-black border rounded-lg",dataSource:l,columns:C,locale:{emptyText:l.length===0?"No matching keywords":"No data"}})})]})}export{L as default};
//# sourceMappingURL=Category-CmRyq7JP.js.map
