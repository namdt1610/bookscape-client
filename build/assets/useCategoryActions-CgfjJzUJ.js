import{br as d,bv as i,r as l,bw as C,bh as u,bx as y,by as n}from"./index-Bj05vSZy.js";const h=async()=>{var t,o;try{return(await d.get(i.base)).data}catch(a){throw console.error("Error fetching categories:",((o=(t=a.response)==null?void 0:t.data)==null?void 0:o.message)||a.message),a}},E=async t=>{var o,a;if(!t)throw new Error("Invalid ID");try{return(await d.get(i.getById(t))).data}catch(s){throw console.error(`Error fetching category with ID ${t}:`,((a=(o=s.response)==null?void 0:o.data)==null?void 0:a.message)||s.message),s}},w=async t=>{var o,a;try{return(await d.post(i.base,t)).data}catch(s){throw console.error("Error creating category:",((a=(o=s.response)==null?void 0:o.data)==null?void 0:a.message)||s.message),s}},m=async(t,o)=>{var a,s;if(!t)throw new Error("Invalid ID");try{return(await d.put(i.getById(t),o)).data}catch(g){throw console.error(`Error updating category with ID ${t}:`,((s=(a=g.response)==null?void 0:a.data)==null?void 0:s.message)||g.message),g}},f=async t=>{var o,a;if(!t)throw new Error("Invalid ID");try{await d.delete(i.getById(t))}catch(s){throw console.error(`Error deleting category with ID ${t}:`,((a=(o=s.response)==null?void 0:o.data)==null?void 0:a.message)||s.message),s}},I=()=>{const t=l.useContext(C);if(!t)throw new Error("useCategoriesContext must be used inside an CategoriesContextProvider");return t},T=()=>{const{dispatch:t}=I();u();const o=y(h,e=>{t({type:"SET_CATEGORIES",payload:e.categories})},e=>{var r,c;n.error(((c=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:c.message)||"Failed to fetch categories")}),a=y(E,e=>{t({type:"GET_CATEGORY",payload:e.category})},e=>{var r,c;n.error(((c=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:c.message)||"Failed to fetch category")}),s=y(w,e=>{n.loading("Creating category...",0),t({type:"CREATE_CATEGORY",payload:e.category}),setTimeout(()=>{n.destroy(),n.success("Category created successfully",1)},1e3)},e=>{var r,c;n.error(((c=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:c.message)||"Category creation failed")}),g=y(m,e=>{n.loading("Updating category...",0),t({type:"UPDATE_CATEGORY",payload:e.category}),setTimeout(()=>{n.destroy(),n.success("Category updated successfully",1)},1e3)},e=>{var r,c;n.error(((c=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:c.message)||"Category update failed")}),p=y(f,e=>{n.loading("Deleting category...",0),t({type:"DELETE_CATEGORY",payload:e.categoryId}),setTimeout(()=>{n.destroy(),n.success("Category deleted successfully",1)},1e3)},e=>{var r,c;n.error(((c=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:c.message)||"Category deletion failed")});return{fetchCategories:o,fetchCategoryById:a,createCategory:s,updateCategory:g,deleteCategory:p}};export{T as u};
//# sourceMappingURL=useCategoryActions-CgfjJzUJ.js.map
