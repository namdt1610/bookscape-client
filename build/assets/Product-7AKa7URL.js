import{bh as C,r as n,j as a,bi as r,L as b}from"./index-Bj05vSZy.js";import{u as f}from"./useProductActions-L2gtlfnW.js";function N(){const{fetchProducts:m}=f(),g=C(),[l,h]=n.useState([]),[c,p]=n.useState([]);n.useEffect(()=>{(async()=>{const t=await m();h(t.map(s=>({...s,key:s._id})))})()},[]);const x=[{title:"Image",dataIndex:"image",key:"image",render:e=>a.jsx("img",{src:e?`http://localhost:8888/${e}`:"/img/default.png",alt:"Product",className:"w-20 h-20 object-cover"})},{title:"Name",dataIndex:"name",key:"name",sorter:(e,t)=>(e.name??"").localeCompare(t.name??""),render:(e,{name:t,_id:s})=>a.jsx(b,{to:`/admin/products/${s}`,children:t})},{title:"Category",dataIndex:"category",key:"category",sorter:(e,t)=>e.category.localeCompare(t.category)},{title:"Price",dataIndex:"price",key:"price",sorter:(e,t)=>e.price-t.price},{title:"Status",dataIndex:"status",key:"status",render:e=>a.jsx(r.Badge,{className:"capitalize",status:"processing",color:e==="available"?"green":"red",text:e}),sorter:(e,t)=>e.status.localeCompare(t.status)},{title:"Action",key:"action",render:(e,t)=>a.jsx("div",{children:a.jsxs(r.Space,{wrap:!0,children:[a.jsx(r.Button,{color:"primary",variant:"outlined",onClick:()=>y(t._id),children:"View"}),a.jsx(r.Button,{color:"danger",variant:"outlined",onClick:()=>j(t._id),children:"Delete"})]})})}],y=e=>{g(`/admin/products/${e}`)},j=e=>{console.log("Delete product ID:",e)},k=e=>{console.log("Search:",e);const t=e.toLowerCase(),s=l.filter(o=>{var i,d,u;return((i=o.name)==null?void 0:i.toLowerCase().includes(t))||((d=o.category)==null?void 0:d.toLowerCase().includes(t))||o.price.toString().includes(t)||o.stock.toString().includes(t)||((u=o.status)==null?void 0:u.toLowerCase().includes(t))});p(s)},{Search:w}=r.Input;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"my-4",children:a.jsxs(r.Space,{children:[a.jsx(r.Button,{children:"New"}),a.jsx(r.Button,{children:"Import"}),a.jsx(w,{placeholder:"input search text",allowClear:!0,onSearch:k,style:{width:200}})]})}),a.jsx(r.Card,{className:"card-border",children:a.jsx(r.Table,{bordered:!0,size:"large",tableLayout:"fixed",rowClassName:"cursor-pointer",className:"border-black border rounded-lg",columns:x,dataSource:c.length?c:l,locale:{emptyText:c.length===0?"Không có từ khóa trùng khớp":"Không có dữ liệu"}})})]})}export{N as default};
//# sourceMappingURL=Product-7AKa7URL.js.map
