{"version":3,"file":"CategoryDetails-DNpp2ph7.js","sources":["../../src/admin/pages/categories/CategoryDetails.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { Button, Space, Typography, Descriptions, Input } from 'antd/lib'\r\nimport { Category } from '../../../interfaces/Category'\r\nimport useCategoryActions from '../../../hooks/Auth/useCategoryActions'\r\n\r\nconst { Title } = Typography\r\n\r\nexport default function CategoryDetails() {\r\n    const { id } = useParams<{ id: string }>()\r\n    const { fetchCategoryById, deleteCategory, updateCategory } =\r\n        useCategoryActions()\r\n    const [category, setCategory] = useState<Category | null>(null)\r\n    const [isEditing, setIsEditing] = useState(false)\r\n    const [categoryData, setCategoryData] = useState<Category | null>(null)\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        const getCategory = async () => {\r\n            if (id) {\r\n                const data = await fetchCategoryById(id)\r\n                setCategory(data)\r\n                setCategoryData(data)\r\n            }\r\n        }\r\n        getCategory()\r\n    }, [id])\r\n\r\n    const handleDelete = async () => {\r\n        if (id) {\r\n            await deleteCategory(id)\r\n            navigate('/admin/categories')\r\n        }\r\n    }\r\n\r\n    const handleEdit = () => {\r\n        setIsEditing(true)\r\n    }\r\n\r\n    const handleCancelEdit = () => {\r\n        setIsEditing(false)\r\n        setCategoryData(category) // Restore original data if canceled\r\n    }\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setCategoryData({\r\n            ...categoryData,\r\n            name: e.target.value,\r\n        })\r\n    }\r\n\r\n    const handleSave = async () => {\r\n        if (categoryData) {\r\n            await updateCategory(id, categoryData.name)\r\n            setIsEditing(false)\r\n            setCategory(categoryData)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {category ? (\r\n                <>\r\n                    <div className=\"my-4\">\r\n                        <Space>\r\n                            {isEditing ? (\r\n                                <>\r\n                                    <Button onClick={handleSave} type=\"primary\">\r\n                                        Save\r\n                                    </Button>\r\n                                    <Button\r\n                                        onClick={handleCancelEdit}\r\n                                        type=\"default\"\r\n                                    >\r\n                                        Cancel\r\n                                    </Button>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <Button onClick={handleEdit} type=\"primary\">\r\n                                        Edit\r\n                                    </Button>\r\n                                    <Button\r\n                                        onClick={handleDelete}\r\n                                        type=\"primary\"\r\n                                    >\r\n                                        Delete\r\n                                    </Button>\r\n                                </>\r\n                            )}\r\n                        </Space>\r\n                    </div>\r\n                    <Title level={2}>{category.name}</Title>\r\n                    <Descriptions\r\n                        title=\"Category Details\"\r\n                        layout=\"vertical\"\r\n                        bordered\r\n                    >\r\n                        <Descriptions.Item label=\"Name\">\r\n                            {isEditing ? (\r\n                                <Input\r\n                                    name=\"name\"\r\n                                    value={categoryData?.name}\r\n                                    onChange={handleChange}\r\n                                />\r\n                            ) : (\r\n                                category.name\r\n                            )}\r\n                        </Descriptions.Item>\r\n                        {/* Add more fields if necessary */}\r\n                    </Descriptions>\r\n                </>\r\n            ) : (\r\n                <div>Loading...</div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n"],"names":["Title","Typography","CategoryDetails","id","useParams","fetchCategoryById","deleteCategory","updateCategory","useCategoryActions","category","setCategory","useState","isEditing","setIsEditing","categoryData","setCategoryData","navigate","useNavigate","useEffect","data","handleDelete","handleEdit","handleCancelEdit","handleChange","e","handleSave","jsx","Fragment","jsxs","Space","Button","Descriptions","Input"],"mappings":"4HAMA,KAAM,CAAE,MAAAA,CAAU,EAAAC,aAElB,SAAwBC,GAAkB,CAChC,KAAA,CAAE,GAAAC,GAAOC,IACT,CAAE,kBAAAC,EAAmB,eAAAC,EAAgB,eAAAC,GACvCC,EAAmB,EACjB,CAACC,EAAUC,CAAW,EAAIC,WAA0B,IAAI,EACxD,CAACC,EAAWC,CAAY,EAAIF,WAAS,EAAK,EAC1C,CAACG,EAAcC,CAAe,EAAIJ,WAA0B,IAAI,EAChEK,EAAWC,IAEjBC,EAAAA,UAAU,IAAM,EACQ,SAAY,CAC5B,GAAIf,EAAI,CACE,MAAAgB,EAAO,MAAMd,EAAkBF,CAAE,EACvCO,EAAYS,CAAI,EAChBJ,EAAgBI,CAAI,CACxB,CAAA,IAEQ,EACb,CAAChB,CAAE,CAAC,EAEP,MAAMiB,EAAe,SAAY,CACzBjB,IACA,MAAMG,EAAeH,CAAE,EACvBa,EAAS,mBAAmB,EAChC,EAGEK,EAAa,IAAM,CACrBR,EAAa,EAAI,CAAA,EAGfS,EAAmB,IAAM,CAC3BT,EAAa,EAAK,EAClBE,EAAgBN,CAAQ,CAAA,EAGtBc,EAAgBC,GAA2C,CAC7CT,EAAA,CACZ,GAAGD,EACH,KAAMU,EAAE,OAAO,KAAA,CAClB,CAAA,EAGCC,EAAa,SAAY,CACvBX,IACM,MAAAP,EAAeJ,EAAIW,EAAa,IAAI,EAC1CD,EAAa,EAAK,EAClBH,EAAYI,CAAY,EAC5B,EAIA,OAAAY,EAAA,IAAAC,EAAA,SAAA,CACK,WAEOC,OAAAD,EAAAA,SAAA,CAAA,SAAA,CAAAD,EAAAA,IAAC,OAAI,UAAU,OACX,SAACA,EAAA,IAAAG,QAAA,CACI,WAEOD,EAAA,KAAAD,EAAA,SAAA,CAAA,SAAA,CAAAD,MAACI,EAAAA,OAAO,CAAA,QAASL,EAAY,KAAK,UAAU,SAE5C,OAAA,EACAC,EAAA,IAACI,EAAA,OAAA,CACG,QAASR,EACT,KAAK,UACR,SAAA,QAAA,CAED,CAAA,CAAA,CACJ,EAGIM,EAAAA,KAAAD,EAAA,SAAA,CAAA,SAAA,CAAAD,MAACI,EAAAA,OAAO,CAAA,QAAST,EAAY,KAAK,UAAU,SAE5C,OAAA,EACAK,EAAA,IAACI,EAAA,OAAA,CACG,QAASV,EACT,KAAK,UACR,SAAA,QAAA,CAED,CAAA,CACJ,CAAA,CAER,CAAA,EACJ,EACCM,EAAA,IAAA1B,EAAA,CAAM,MAAO,EAAI,WAAS,KAAK,EAChC0B,EAAA,IAACK,EAAA,aAAA,CACG,MAAM,mBACN,OAAO,WACP,SAAQ,GAER,eAACA,EAAAA,aAAa,KAAb,CAAkB,MAAM,OACpB,SACGnB,EAAAc,EAAA,IAACM,EAAA,MAAA,CACG,KAAK,OACL,MAAOlB,GAAA,YAAAA,EAAc,KACrB,SAAUS,CAAA,CAAA,EAGdd,EAAS,KAEjB,CAAA,CAEJ,CAAA,CACJ,CAAA,EAEAiB,EAAAA,IAAC,MAAI,CAAA,SAAA,YAAA,CAAU,CAEvB,CAAA,CAER"}